# RLè®­ç»ƒæµç¨‹è¯¦è§£

## rl_train_interval è¯´æ˜

**`rl_train_interval`** æŒ‡çš„æ˜¯ï¼š**æ¯éš”å¤šå°‘ä¸ªsimulation stepè¿›è¡ŒRLè®­ç»ƒ**

- **ä¸æ˜¯** strideï¼ˆæ¸¸æˆæ—¶é—´æ¨è¿›ï¼‰
- **æ˜¯** simulation stepï¼ˆå¾ªç¯æ¬¡æ•°ï¼‰

### ç¤ºä¾‹

```bash
python start.py --name test --step 20 --rl_train_interval 5
```

- `--step 20`ï¼šè¿è¡Œ20ä¸ªsimulation step
- `--rl_train_interval 5`ï¼šæ¯5ä¸ªstepè®­ç»ƒä¸€æ¬¡
- **è®­ç»ƒæ—¶æœº**ï¼šstep 5, 10, 15, 20ï¼ˆå…±4æ¬¡è®­ç»ƒï¼‰

---

## å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Simulation å¼€å§‹                           â”‚
â”‚  python start.py --name test --step 20 --rl_train_interval 5 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åˆå§‹åŒ–é˜¶æ®µ (SimulateServer.__init__)            â”‚
â”‚  - åˆ›å»ºGame                                                    â”‚
â”‚  - åˆ›å»ºæ‰€æœ‰Agents                                              â”‚
â”‚  - å¦‚æœ --use_rl:                                              â”‚
â”‚    â”œâ”€ åˆ›å»º OnlineDataCollector                                â”‚
â”‚    â””â”€ åˆ›å»º MAPPOTrainer                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Simulation å¾ªç¯ (for step in steps)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 1                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   å¤„ç†æ‰€æœ‰Agents (å¹¶è¡Œæˆ–ä¸²è¡Œ)              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Agent 1: agent_think()      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   RLæ•°æ®é‡‡é›† (å¦‚æœå¯ç”¨)                        â”‚
    â”‚   1. collector.start_collection()             â”‚
    â”‚      â†’ æå–å½“å‰çŠ¶æ€ (state)                    â”‚
    â”‚   2. Agentåšå‡ºå†³ç­– (LLM)                       â”‚
    â”‚   3. collector.record_llm_action()            â”‚
    â”‚      â†’ è®°å½•åŠ¨ä½œ (action)                       â”‚
    â”‚   4. Agentæ‰§è¡ŒåŠ¨ä½œ                             â”‚
    â”‚   5. collector.end_collection()               â”‚
    â”‚      â†’ æå–ä¸‹ä¸€çŠ¶æ€ (next_state)               â”‚
    â”‚      â†’ è®¡ç®—å¥–åŠ± (reward)                       â”‚
    â”‚      â†’ å­˜å‚¨transitionåˆ°buffer                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Agent 2: agent_think()      â”‚
        â”‚   ... (åŒæ ·æµç¨‹)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Agent N: agent_think()      â”‚
        â”‚   ... (åŒæ ·æµç¨‹)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   æ£€æŸ¥æ˜¯å¦éœ€è¦è®­ç»ƒ                              â”‚
    â”‚   if (step_number) % rl_train_interval == 0:  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                â”‚
        æ˜¯ (step=5)      å¦ (step=1,2,3,4)
            â”‚                â”‚
            â†“                â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  RLè®­ç»ƒ       â”‚  â”‚  è·³è¿‡è®­ç»ƒ     â”‚
    â”‚  _rl_train_   â”‚  â”‚  ç»§ç»­ä¸‹ä¸€æ­¥   â”‚
    â”‚  step()       â”‚  â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   RLè®­ç»ƒæµç¨‹                                    â”‚
    â”‚   1. collector.flush_all_buffers()            â”‚
    â”‚      â†’ è·å–æ‰€æœ‰agentsçš„rollouts                â”‚
    â”‚      â†’ æ¸…ç©ºbuffer                              â”‚
    â”‚   2. trainer.train_step(rollouts)             â”‚
    â”‚      â†’ è®¡ç®—advantages (GAE)                   â”‚
    â”‚      â†’ æ›´æ–°ç­–ç•¥ç½‘ç»œ (Policy Network)           â”‚
    â”‚      â†’ æ›´æ–°ä»·å€¼ç½‘ç»œ (Value Network)            â”‚
    â”‚   3. å®šæœŸä¿å­˜æ¨¡å‹                              â”‚
    â”‚      if step % (interval * 10) == 0:           â”‚
    â”‚        save_models()                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ä¿å­˜checkpoint                               â”‚
    â”‚   - simulate-{time}.json                       â”‚
    â”‚   - conversation.json                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   æ¨è¿›æ¸¸æˆæ—¶é—´                                 â”‚
    â”‚   timer.forward(stride)                       â”‚
    â”‚   (ä¾‹å¦‚ï¼šstride=10åˆ†é’Ÿ)                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 2, 3, 4... (é‡å¤æµç¨‹)       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Step 5 (å†æ¬¡è®­ç»ƒ)                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
        ... (ç»§ç»­å¾ªç¯ç›´åˆ°step 20)
            â”‚
            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Simulation å®Œæˆ                               â”‚
    â”‚   - æ‰“å°æ€»ç»“                                   â”‚
    â”‚   - æ˜¾ç¤ºæ€»è€—æ—¶                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è¯¦ç»†æ—¶åºå›¾

### ç¤ºä¾‹ï¼šstep=20, rl_train_interval=5

```
Step 1:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 2:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 3:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 4:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 5:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [ğŸ”„ RLè®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 6:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 7:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 8:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 9:  [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [è·³è¿‡è®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
Step 10: [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [ğŸ”„ RLè®­ç»ƒ] â†’ [ä¿å­˜] â†’ [æ—¶é—´æ¨è¿›]
...
Step 20: [Agentå¤„ç†] â†’ [æ•°æ®é‡‡é›†] â†’ [ğŸ”„ RLè®­ç»ƒ] â†’ [ä¿å­˜] â†’ [å®Œæˆ]
```

**è®­ç»ƒæ¬¡æ•°**ï¼š4æ¬¡ï¼ˆstep 5, 10, 15, 20ï¼‰

---

## å…³é”®æ¦‚å¿µå¯¹æ¯”

### Step vs Stride

| æ¦‚å¿µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **Step** | Simulationå¾ªç¯æ¬¡æ•° | `--step 20` = è¿è¡Œ20æ¬¡å¾ªç¯ |
| **Stride** | æ¯æ¬¡å¾ªç¯æ¨è¿›çš„æ¸¸æˆæ—¶é—´ | `--stride 15` = æ¯æ¬¡æ¨è¿›15åˆ†é’Ÿ |
| **rl_train_interval** | æ¯éš”å¤šå°‘ä¸ªstepè®­ç»ƒ | `--rl_train_interval 5` = æ¯5ä¸ªstepè®­ç»ƒä¸€æ¬¡ |

### æ—¶é—´å…³ç³»

```
å®é™…æ—¶é—´:  Step 1 (10ç§’) â†’ Step 2 (10ç§’) â†’ Step 3 (10ç§’) ...
æ¸¸æˆæ—¶é—´:  09:30 â†’ 09:40 â†’ 09:50 ... (å¦‚æœstride=10åˆ†é’Ÿ)
è®­ç»ƒæ—¶æœº:  Step 5, 10, 15, 20 (å¦‚æœinterval=5)
```

---

## æ•°æ®æµ

### æ¯ä¸ªStepçš„æ•°æ®æµ

```
Step N å¼€å§‹
    â†“
æ‰€æœ‰Agentsæ‰§è¡Œthink()
    â†“
æ¯ä¸ªAgent:
    â”œâ”€ start_collection() â†’ state
    â”œâ”€ å†³ç­– (LLM)
    â”œâ”€ record_action() â†’ action
    â”œâ”€ æ‰§è¡Œ
    â””â”€ end_collection() â†’ reward, next_state
    â†“
å­˜å‚¨åˆ°buffer: (state, action, reward, next_state)
    â†“
å¦‚æœ step % interval == 0:
    â”œâ”€ flush_all_buffers() â†’ è·å–æ‰€æœ‰rollouts
    â”œâ”€ train_step() â†’ è®­ç»ƒæ¨¡å‹
    â””â”€ ä¿å­˜æ¨¡å‹ (å®šæœŸ)
    â†“
ä¿å­˜checkpoint
    â†“
æ¨è¿›æ—¶é—´ (strideåˆ†é’Ÿ)
    â†“
Step N+1
```

---

## è®­ç»ƒæ—¶æœºç¤ºä¾‹

### ç¤ºä¾‹1ï¼šinterval=5

```bash
--step 20 --rl_train_interval 5
```

è®­ç»ƒæ—¶æœºï¼š**Step 5, 10, 15, 20**ï¼ˆ4æ¬¡ï¼‰

### ç¤ºä¾‹2ï¼šinterval=10

```bash
--step 20 --rl_train_interval 10
```

è®­ç»ƒæ—¶æœºï¼š**Step 10, 20**ï¼ˆ2æ¬¡ï¼‰

### ç¤ºä¾‹3ï¼šinterval=1

```bash
--step 20 --rl_train_interval 1
```

è®­ç»ƒæ—¶æœºï¼š**æ¯ä¸ªstepéƒ½è®­ç»ƒ**ï¼ˆ20æ¬¡ï¼‰

---

## æ¨¡å‹ä¿å­˜æ—¶æœº

æ¨¡å‹ä¼šåœ¨ä»¥ä¸‹æ—¶æœºä¿å­˜ï¼š

```python
if step % (rl_train_interval * 10) == 0:
    save_models()
```

### ç¤ºä¾‹ï¼šinterval=5

- ä¿å­˜æ—¶æœºï¼šStep 50, 100, 150, 200...
- å¦‚æœåªè¿è¡Œ20æ­¥ï¼Œä¸ä¼šä¿å­˜æ¨¡å‹ï¼ˆé™¤éæ‰‹åŠ¨ä¿å­˜ï¼‰

### ç¤ºä¾‹ï¼šinterval=10

- ä¿å­˜æ—¶æœºï¼šStep 100, 200, 300...

---

## æ€»ç»“

1. **`rl_train_interval`** = æ¯éš”å¤šå°‘ä¸ª**simulation step**è®­ç»ƒ
2. **ä¸æ˜¯** strideï¼ˆæ¸¸æˆæ—¶é—´ï¼‰
3. **è®­ç»ƒæ—¶æœº**ï¼š`step_number % rl_train_interval == 0`
4. **æ•°æ®é‡‡é›†**ï¼šæ¯ä¸ªstepéƒ½åœ¨è¿›è¡Œï¼ˆå¦‚æœå¯ç”¨RLï¼‰
5. **è®­ç»ƒæ‰§è¡Œ**ï¼šåªåœ¨ç‰¹å®šstepæ‰§è¡Œ

### æ¨èè®¾ç½®

- **å¿«é€Ÿæµ‹è¯•**ï¼š`--rl_train_interval 5`
- **æ­£å¸¸è®­ç»ƒ**ï¼š`--rl_train_interval 10`
- **èŠ‚çœè®¡ç®—**ï¼š`--rl_train_interval 20`

